let closePopupOnClick = function (e, t) { e.addEventListener("click", function () { t.classList.remove("modal-show") }), document.addEventListener("keydown", function (e) { 27 === e.keyCode && t.classList.remove("modal-show") }) }, closePopups = function (e) { for (let t = 0; t < e.length; t++) { let o = e[t], c = o.querySelector(".close"); closePopupOnClick(c, o) } }, showPopupOnClick = function (e, t) { e.addEventListener("click", function (e) { e.preventDefault(), t.classList.add("modal-show") }) }, showPopups = function (e, t) { for (let o = 0; o < e.length; o++) { let c = e[o]; showPopupOnClick(c, t) } }, addGoodOnClick = function (e, t, o) { e.addEventListener("click", function (e) { e.preventDefault(); let c = o.textContent; ++c > 0 && t.classList.add("containing"), o.textContent = c }) }, addGood = function (e, t, o) { for (let c = 0; c < e.length; c++) { let n = e[c]; addGoodOnClick(n, t, o) } }, switchElement = function (e) { e.classList.toggle("current") }; if (document.querySelector(".contacts-map")) { const e = document.querySelector(".contacts-map"), t = document.querySelector(".modal-map"); showPopupOnClick(e, t) } if (document.querySelector(".button-buy")) { const e = document.querySelectorAll(".button-buy"), t = document.querySelector(".modal-notice"); addGood(e, document.querySelector(".cart"), document.querySelector(".cart .count")), showPopups(e, t) } if (document.querySelector(".button-to-bookmark")) { addGood(document.querySelectorAll(".button-to-bookmark"), document.querySelector(".bookmark"), document.querySelector(".bookmark .count")) } if (document.querySelector(".modal")) { closePopups(document.querySelectorAll(".modal")) } if (document.querySelector(".modal-write-us")) { const e = document.querySelector(".contacts-button"), t = document.querySelector(".modal-write-us"), o = t.querySelector("form"), c = t.querySelector("[name=user-name]"), n = t.querySelector("[name=user-email]"), l = t.querySelector("[name=text]"); let u, r = function (e) { let t; try { t = localStorage.getItem(e), u = !0 } catch { u = !1 } return t }; e.addEventListener("click", function (e) { e.preventDefault(), t.classList.remove("error"), t.classList.add("modal-show"), t.classList.add("showingPopup"), c.value = r("name"), n.value = r("email"), l.value = "", c.value ? n.value ? l.focus() : n.focus() : c.focus() }), o.addEventListener("submit", function (e) { c.value && n.value && l.value ? u && (localStorage.setItem("name", c.value), localStorage.setItem("email", n.value)) : (e.preventDefault(), t.classList.remove("error"), t.offsetWidth = t.offsetWidth, t.classList.add("error")) }) } if (document.querySelector(".promo-slider")) { const e = document.querySelectorAll(".promo-slider-slide"), t = document.querySelectorAll(".promo-slider-pagination-item"), o = document.querySelector(".slider-button-next"), c = document.querySelector(".slider-button-back"); let n = function (e, t) { switchElement(e), switchElement(t) }; (function () { let l = 0, u = e.length - 1; o.addEventListener("click", function () { l < u && (n(e[l], t[l]), n(e[++l], t[l])) }), c.addEventListener("click", function () { l > 0 && (n(e[l], t[l]), n(e[--l], t[l])) }) })() } if (document.querySelector(".services-slider")) { const e = document.querySelectorAll(".services-button"), t = document.querySelectorAll(".services-item"); let o = function (e) { for (let t = 0; t < e.length; t++) { e[t].classList.remove("current") } }, c = function (c, n) { c.addEventListener("click", function () { o(e), o(t), c.classList.add("current"), n.classList.add("current") }) }; (function () { for (let o = 0; o < e.length; o++) { let n = e[o], l = t[o]; c(n, l) } })() } if (document.querySelector(".user-menu")) { const e = document.querySelector(".activatied-user-menu"), t = document.querySelector(".login-menu"); document.querySelector(".log-out").addEventListener("click", function (o) { o.preventDefault(), switchElement(e), switchElement(t) }) }
